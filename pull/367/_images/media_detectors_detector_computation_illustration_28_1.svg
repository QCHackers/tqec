<svg viewBox="0 0 1760 416"  version="1.1" xmlns="http://www.w3.org/2000/svg">
<g id="qubit_lines">
<path id="qubit_line:0" d="M64,64 L1728,64 " stroke="black"/>
<text dominant-baseline="central" text-anchor="end" font-family="monospace" font-size="12" x="64" y="64">q0</text>
<path id="qubit_line:1" d="M64,128 L1728,128 " stroke="black"/>
<text dominant-baseline="central" text-anchor="end" font-family="monospace" font-size="12" x="64" y="128">q1</text>
<path id="qubit_line:2" d="M64,192 L1728,192 " stroke="black"/>
<text dominant-baseline="central" text-anchor="end" font-family="monospace" font-size="12" x="64" y="192">q2</text>
<path id="qubit_line:3" d="M64,256 L1728,256 " stroke="black"/>
<text dominant-baseline="central" text-anchor="end" font-family="monospace" font-size="12" x="64" y="256">q3</text>
<path id="qubit_line:4" d="M64,320 L1728,320 " stroke="black"/>
<text dominant-baseline="central" text-anchor="end" font-family="monospace" font-size="12" x="64" y="320">q4</text>
</g>
<rect x="80" y="48" width="160" height="32" stroke="black" fill="white"/>
<text dominant-baseline="central" text-anchor="middle" font-family="monospace" font-size="16" x="160" y="64">COORDS(0)</text>
<rect x="80" y="112" width="160" height="32" stroke="black" fill="white"/>
<text dominant-baseline="central" text-anchor="middle" font-family="monospace" font-size="16" x="160" y="128">COORDS(1)</text>
<rect x="80" y="176" width="160" height="32" stroke="black" fill="white"/>
<text dominant-baseline="central" text-anchor="middle" font-family="monospace" font-size="16" x="160" y="192">COORDS(2)</text>
<rect x="80" y="240" width="160" height="32" stroke="black" fill="white"/>
<text dominant-baseline="central" text-anchor="middle" font-family="monospace" font-size="16" x="160" y="256">COORDS(3)</text>
<rect x="80" y="304" width="160" height="32" stroke="black" fill="white"/>
<text dominant-baseline="central" text-anchor="middle" font-family="monospace" font-size="16" x="160" y="320">COORDS(4)</text>
<rect x="272" y="48" width="32" height="32" stroke="black" fill="black"/>
<text dominant-baseline="central" text-anchor="middle" font-family="monospace" font-size="30" x="288" y="64" fill="white">R</text>
<rect x="272" y="112" width="32" height="32" stroke="black" fill="black"/>
<text dominant-baseline="central" text-anchor="middle" font-family="monospace" font-size="30" x="288" y="128" fill="white">R</text>
<rect x="272" y="176" width="32" height="32" stroke="black" fill="black"/>
<text dominant-baseline="central" text-anchor="middle" font-family="monospace" font-size="30" x="288" y="192" fill="white">R</text>
<rect x="272" y="240" width="32" height="32" stroke="black" fill="black"/>
<text dominant-baseline="central" text-anchor="middle" font-family="monospace" font-size="30" x="288" y="256" fill="white">R</text>
<rect x="272" y="304" width="32" height="32" stroke="black" fill="black"/>
<text dominant-baseline="central" text-anchor="middle" font-family="monospace" font-size="30" x="288" y="320" fill="white">R</text>
<path d="M68,40 L68,32 L316,32 L316,40 " stroke="black" fill="none"/>
<path d="M68,376 L68,384 L316,384 L316,376 " stroke="black" fill="none"/>
<path d="M352,64 L352,128 " stroke="black"/>
<circle cx="352" cy="64" r="12" stroke="none" fill="black"/>
<circle cx="352" cy="128" r="12" stroke="black" fill="white"/>
<path d="M340,128 L364,128 M352,116 L352,140 " stroke="black"/>
<path d="M352,192 L352,256 " stroke="black"/>
<circle cx="352" cy="192" r="12" stroke="none" fill="black"/>
<circle cx="352" cy="256" r="12" stroke="black" fill="white"/>
<path d="M340,256 L364,256 M352,244 L352,268 " stroke="black"/>
<path d="M416,128 L416,192 " stroke="black"/>
<circle cx="416" cy="192" r="12" stroke="none" fill="black"/>
<circle cx="416" cy="128" r="12" stroke="black" fill="white"/>
<path d="M404,128 L428,128 M416,116 L416,140 " stroke="black"/>
<path d="M416,256 L416,320 " stroke="black"/>
<circle cx="416" cy="320" r="12" stroke="none" fill="black"/>
<circle cx="416" cy="256" r="12" stroke="black" fill="white"/>
<path d="M404,256 L428,256 M416,244 L416,268 " stroke="black"/>
<rect x="464" y="112" width="32" height="32" stroke="black" fill="black"/>
<text dominant-baseline="central" text-anchor="middle" font-family="monospace" font-size="30" x="480" y="128" fill="white">M</text>
<text text-anchor="middle" font-family="monospace" font-size="8" x="480" y="108">rec[0]</text>
<rect x="464" y="240" width="32" height="32" stroke="black" fill="black"/>
<text dominant-baseline="central" text-anchor="middle" font-family="monospace" font-size="30" x="480" y="256" fill="white">M</text>
<text text-anchor="middle" font-family="monospace" font-size="8" x="480" y="236">rec[1]</text>
<rect x="528" y="240" width="224" height="32" stroke="black" fill="lightgray"/>
<text dominant-baseline="central" text-anchor="middle" font-family="monospace" font-size="16" x="640" y="256">DETECTOR</text>
<text dominant-baseline="hanging" text-anchor="middle" font-family="monospace" font-size="8" x="640" y="276">coords=(3,0,0)</text>
<text text-anchor="middle" font-family="monospace" font-size="8" x="640" y="236">D0 = rec[1]</text>
<rect x="528" y="112" width="224" height="32" stroke="black" fill="lightgray"/>
<text dominant-baseline="central" text-anchor="middle" font-family="monospace" font-size="16" x="640" y="128">DETECTOR</text>
<text dominant-baseline="hanging" text-anchor="middle" font-family="monospace" font-size="8" x="640" y="148">coords=(1,0,0)</text>
<text text-anchor="middle" font-family="monospace" font-size="8" x="640" y="108">D1 = rec[0]</text>
<path d="M452,40 L452,32 L764,32 L764,40 " stroke="black" fill="none"/>
<path d="M452,376 L452,384 L764,384 L764,376 " stroke="black" fill="none"/>
<path d="M808,32 L800,32 L800,384 L808,384 " stroke="black" fill="none"/>
<text dominant-baseline="auto" text-anchor="start" font-family="monospace" font-size="12" x="804" y="380">REP9</text>
<rect x="848" y="112" width="32" height="32" stroke="black" fill="black"/>
<text dominant-baseline="central" text-anchor="middle" font-family="monospace" font-size="30" x="864" y="128" fill="white">R</text>
<rect x="848" y="240" width="32" height="32" stroke="black" fill="black"/>
<text dominant-baseline="central" text-anchor="middle" font-family="monospace" font-size="30" x="864" y="256" fill="white">R</text>
<path d="M928,64 L928,128 " stroke="black"/>
<circle cx="928" cy="64" r="12" stroke="none" fill="black"/>
<circle cx="928" cy="128" r="12" stroke="black" fill="white"/>
<path d="M916,128 L940,128 M928,116 L928,140 " stroke="black"/>
<path d="M928,192 L928,256 " stroke="black"/>
<circle cx="928" cy="192" r="12" stroke="none" fill="black"/>
<circle cx="928" cy="256" r="12" stroke="black" fill="white"/>
<path d="M916,256 L940,256 M928,244 L928,268 " stroke="black"/>
<path d="M992,128 L992,192 " stroke="black"/>
<circle cx="992" cy="192" r="12" stroke="none" fill="black"/>
<circle cx="992" cy="128" r="12" stroke="black" fill="white"/>
<path d="M980,128 L1004,128 M992,116 L992,140 " stroke="black"/>
<path d="M992,256 L992,320 " stroke="black"/>
<circle cx="992" cy="320" r="12" stroke="none" fill="black"/>
<circle cx="992" cy="256" r="12" stroke="black" fill="white"/>
<path d="M980,256 L1004,256 M992,244 L992,268 " stroke="black"/>
<rect x="1040" y="112" width="32" height="32" stroke="black" fill="black"/>
<text dominant-baseline="central" text-anchor="middle" font-family="monospace" font-size="30" x="1056" y="128" fill="white">M</text>
<text text-anchor="middle" font-family="monospace" font-size="8" x="1056" y="108">rec[2+iter*2]</text>
<rect x="1040" y="240" width="32" height="32" stroke="black" fill="black"/>
<text dominant-baseline="central" text-anchor="middle" font-family="monospace" font-size="30" x="1056" y="256" fill="white">M</text>
<text text-anchor="middle" font-family="monospace" font-size="8" x="1056" y="236">rec[3+iter*2]</text>
<rect x="1104" y="112" width="224" height="32" stroke="black" fill="lightgray"/>
<text dominant-baseline="central" text-anchor="middle" font-family="monospace" font-size="16" x="1216" y="128">DETECTOR</text>
<text dominant-baseline="hanging" text-anchor="middle" font-family="monospace" font-size="8" x="1216" y="148">coords=(1,1+iter)</text>
<text text-anchor="middle" font-family="monospace" font-size="8" x="1216" y="108">D[2+iter*2] = rec[2+iter*2]*rec[0+iter*2]</text>
<rect x="1104" y="240" width="224" height="32" stroke="black" fill="lightgray"/>
<text dominant-baseline="central" text-anchor="middle" font-family="monospace" font-size="16" x="1216" y="256">DETECTOR</text>
<text dominant-baseline="hanging" text-anchor="middle" font-family="monospace" font-size="8" x="1216" y="276">coords=(3,1+iter)</text>
<text text-anchor="middle" font-family="monospace" font-size="8" x="1216" y="236">D[3+iter*2] = rec[3+iter*2]*rec[1+iter*2]</text>
<path d="M1028,40 L1028,32 L1340,32 L1340,40 " stroke="black" fill="none"/>
<path d="M1028,376 L1028,384 L1340,384 L1340,376 " stroke="black" fill="none"/>
<path d="M1368,32 L1376,32 L1376,384 L1368,384 " stroke="black" fill="none"/>
<rect x="1424" y="48" width="32" height="32" stroke="black" fill="black"/>
<text dominant-baseline="central" text-anchor="middle" font-family="monospace" font-size="30" x="1440" y="64" fill="white">M</text>
<text text-anchor="middle" font-family="monospace" font-size="8" x="1440" y="44">rec[20]</text>
<rect x="1424" y="176" width="32" height="32" stroke="black" fill="black"/>
<text dominant-baseline="central" text-anchor="middle" font-family="monospace" font-size="30" x="1440" y="192" fill="white">M</text>
<text text-anchor="middle" font-family="monospace" font-size="8" x="1440" y="172">rec[21]</text>
<rect x="1424" y="304" width="32" height="32" stroke="black" fill="black"/>
<text dominant-baseline="central" text-anchor="middle" font-family="monospace" font-size="30" x="1440" y="320" fill="white">M</text>
<text text-anchor="middle" font-family="monospace" font-size="8" x="1440" y="300">rec[22]</text>
<rect x="1424" y="112" width="288" height="32" stroke="black" fill="lightgray"/>
<text dominant-baseline="central" text-anchor="middle" font-family="monospace" font-size="16" x="1568" y="128">DETECTOR</text>
<text dominant-baseline="hanging" text-anchor="middle" font-family="monospace" font-size="8" x="1568" y="148">coords=(1,10)</text>
<text text-anchor="middle" font-family="monospace" font-size="8" x="1568" y="108">D20 = rec[21]*rec[20]*rec[18]</text>
<rect x="1424" y="240" width="288" height="32" stroke="black" fill="lightgray"/>
<text dominant-baseline="central" text-anchor="middle" font-family="monospace" font-size="16" x="1568" y="256">DETECTOR</text>
<text dominant-baseline="hanging" text-anchor="middle" font-family="monospace" font-size="8" x="1568" y="276">coords=(3,10)</text>
<text text-anchor="middle" font-family="monospace" font-size="8" x="1568" y="236">D21 = rec[22]*rec[21]*rec[19]</text>
</svg>